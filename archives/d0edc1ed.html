<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/dayu/dayu-apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/dayu/dayu-web-app-manifest-512x512.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/dayu/dayu-web-app-manifest-192x192.png">
  <link rel="mask-icon" href="/images/dayu/dayu-favicon.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"dayutech.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":null,"activeClass":"gitalk"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":5,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="本文介绍了 数据库 的相关知识点">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux常用命令">
<meta property="og:url" content="https://dayutech.github.io/archives/d0edc1ed.html">
<meta property="og:site_name" content="Dayu Technology Co., LTD">
<meta property="og:description" content="本文介绍了 数据库 的相关知识点">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://dayutech.github.io/archives/d0edc1ed/Untitled.png">
<meta property="og:image" content="https://dayutech.github.io/Untitled%201.png">
<meta property="og:image" content="https://dayutech.github.io/Untitled%202.png">
<meta property="og:image" content="https://dayutech.github.io/Untitled%203.png">
<meta property="article:published_time" content="2025-04-10T12:56:11.000Z">
<meta property="article:modified_time" content="2025-11-10T08:57:58.390Z">
<meta property="article:author" content="Arliya">
<meta property="article:tag" content="Linux">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://dayutech.github.io/archives/d0edc1ed/Untitled.png">

<link rel="canonical" href="https://dayutech.github.io/archives/d0edc1ed.html">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>
<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.css"><style>
#needsharebutton-postbottom {
  cursor: pointer;
  height: 26px;
  margin-top: 10px;
  position: relative;
}
#needsharebutton-postbottom .btn {
  border: 1px solid $btn-default-border-color;
  border-radius: 3px;
  display: initial;
  padding: 1px 4px;
}
</style><style>
#needsharebutton-float {
  bottom: 88px;
  cursor: pointer;
  left: -8px;
  position: fixed;
  z-index: 9999;
}
#needsharebutton-float .btn {
  border: 1px solid $btn-default-border-color;
  border-radius: 4px;
  padding: 0 10px 0 14px;
}
</style>
  <title>Linux常用命令 | Dayu Technology Co., LTD</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><link rel="alternate" href="/atom.xml" title="Dayu Technology Co., LTD" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Dayu Technology Co., LTD</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">大禹科技股份有限公司</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-rss">

    <a href="/atom.xml" rel="section"><i class="fa fa-rss fa-fw"></i>RSS</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/dayutech/dayutech.github.io" class="github-corner" title="Dayu GitHub" aria-label="Dayu GitHub" rel="noopener external nofollow noreferrer" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://dayutech.github.io/archives/d0edc1ed.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/dayu/avatar.png">
      <meta itemprop="name" content="Arliya">
      <meta itemprop="description" content="主要从事Web漏洞挖掘工作，涉猎编程语言包括Java、Scala、C/C++、PHP、Python、C#、Golang，涉及领域包括Web以及二进制漏洞挖掘，二进制比较菜，平时喜欢在金融市场消费">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dayu Technology Co., LTD">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Linux常用命令
        </h1>

        <div class="post-meta">
		  
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-04-10 20:56:11" itemprop="dateCreated datePublished" datetime="2025-04-10T20:56:11+08:00">2025-04-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-11-10 16:57:58" itemprop="dateModified" datetime="2025-11-10T16:57:58+08:00">2025-11-10</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AE%89%E5%85%A8%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">安全技术</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>8.8k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>32 分钟</span>
            </span>
            <div class="post-description">本文介绍了 数据库 的相关知识点</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="linux常用命令"><a href="#linux常用命令" class="headerlink" title="linux常用命令"></a>linux常用命令</h1><h1 id="linux系统的文件结构"><a href="#linux系统的文件结构" class="headerlink" title="linux系统的文件结构"></a>linux系统的文件结构</h1><p>Linux系统命令行的含义</p>
<p><a href="linux%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%204de50be84c4e44a5b0a8fb15c5169a19.csv">linux文件系统结构</a></p>
<h1 id="Linux系统命令行的含义"><a href="#Linux系统命令行的含义" class="headerlink" title="Linux系统命令行的含义"></a>Linux系统命令行的含义</h1><p>示例：root@app00:~#</p>
<p>root            &#x2F;&#x2F;用户名，root为超级用户<br>@               &#x2F;&#x2F;分隔符<br>app00        &#x2F;&#x2F;主机名称<br>~               &#x2F;&#x2F;当前所在目录，默认用户目录为~，会随着目录切换而变化，例如：（root@app00:&#x2F;bin# ，当前位置在bin目录下）</p>
<h1 id="表示当前用户是超级用户，普通用户为，例如：（”yao-app00-root-”-，表示使用用户”yao”访问-root文件夹"><a href="#表示当前用户是超级用户，普通用户为，例如：（”yao-app00-root-”-，表示使用用户”yao”访问-root文件夹" class="headerlink" title="&#x2F;&#x2F;表示当前用户是超级用户，普通用户为，例如：（”yao@app00:&#x2F;root$” ，表示使用用户”yao”访问&#x2F;root文件夹"></a>&#x2F;&#x2F;表示当前用户是超级用户，普通用户为，例如：（”yao@app00:&#x2F;root$” ，表示使用用户”yao”访问&#x2F;root文件夹</h1><h1 id="命令的组成"><a href="#命令的组成" class="headerlink" title="命令的组成"></a>命令的组成</h1><p>示例：命令 参数名 参数值</p>
<h1 id="基础操作"><a href="#基础操作" class="headerlink" title="基础操作"></a>基础操作</h1><h2 id="重启系统"><a href="#重启系统" class="headerlink" title="重启系统"></a>重启系统</h2><ol>
<li><p>立刻关机</p>
<p> shutdown -h now 或者 poweroff</p>
</li>
<li><p>两分钟后关机</p>
<p>   shutdown -h 2</p>
</li>
</ol>
<h2 id="关闭系统"><a href="#关闭系统" class="headerlink" title="关闭系统"></a>关闭系统</h2><ol>
<li><p>立刻重启</p>
<p>  shutdown -r now 或者 reboot</p>
</li>
<li><p>两分钟后重启</p>
<p> shutdown -r 2</p>
</li>
</ol>
<h2 id="帮助命令"><a href="#帮助命令" class="headerlink" title="帮助命令"></a>帮助命令</h2><p>ifconfig –help &#x2F;&#x2F;查看 ifconfig 命令的用法</p>
<h2 id="命令说明书"><a href="#命令说明书" class="headerlink" title="命令说明书"></a>命令说明书</h2><p>man shutdown &#x2F;&#x2F;打开命令说明后，可按”q”键退出</p>
<h2 id="切换用户"><a href="#切换用户" class="headerlink" title="切换用户"></a>切换用户</h2><p>su - yao               &#x2F;&#x2F;切换为用户”yao”,输入后回车需要输入该用户的密码<br>  exit                 &#x2F;&#x2F;退出当前用户</p>
<h1 id="目录操作"><a href="#目录操作" class="headerlink" title="目录操作"></a>目录操作</h1><h2 id="切换目录"><a href="#切换目录" class="headerlink" title="切换目录"></a>切换目录</h2><p>cd &#x2F;                             &#x2F;&#x2F;切换到根目录<br>cd &#x2F;bin                        &#x2F;&#x2F;切换到根目录下的bin目录<br>cd ..&#x2F;                           &#x2F;&#x2F;切换到上一级目录 或者使用命令：cd ..<br>cd ~                           &#x2F;&#x2F;切换到home目录<br>cd -                            &#x2F;&#x2F;切换到上次访问的目录<br>cd xx(文件夹名)         &#x2F;&#x2F;切换到本目录下的名为xx的文件目录，如果目录不存在报错<br>cd &#x2F;xxx&#x2F;xx&#x2F;x              &#x2F;&#x2F;可以输入完整的路径，直接切换到目标目录，输入过程中可以使用tab键快速补全</p>
<h2 id="查看目录"><a href="#查看目录" class="headerlink" title="查看目录"></a>查看目录</h2><p>ls                    &#x2F;&#x2F;查看当前目录下的所有目录和文件<br>ls -a                &#x2F;&#x2F;查看当前目录下的所有目录和文件（包括隐藏的文件）<br>ls -l                &#x2F;&#x2F;列表查看当前目录下的所有目录和文件（列表查看，显示更多信息），与命令”ll”效果一样<br>ls &#x2F;bin              &#x2F;&#x2F;查看指定目录下的所有目录和文件</p>
<h2 id="创建目录"><a href="#创建目录" class="headerlink" title="创建目录"></a>创建目录</h2><p>mkdir tools              &#x2F;&#x2F;在当前目录下创建一个名为tools的目录<br>  mkdir &#x2F;bin&#x2F;tools     &#x2F;&#x2F;在指定目录下创建一个名为tools的目录</p>
<h2 id="删除目录与文件"><a href="#删除目录与文件" class="headerlink" title="删除目录与文件"></a>删除目录与文件</h2><p>rm 文件名              &#x2F;&#x2F;删除当前目录下的文件<br>rm -f 文件名           &#x2F;&#x2F;删除当前目录的的文件（不询问）<br>rm -r 文件夹名         &#x2F;&#x2F;递归删除当前目录下此名的目录<br>rm -rf 文件夹名        &#x2F;&#x2F;递归删除当前目录下此名的目录（不询问）<br>rm -rf *              &#x2F;&#x2F;将当前目录下的所有目录和文件全部删除<br>rm -rf &#x2F;*             &#x2F;&#x2F;将根目录下的所有文件全部删除【慎用！相当于格式化系统】</p>
<h2 id="修改目录"><a href="#修改目录" class="headerlink" title="修改目录"></a>修改目录</h2><p>mv 当前目录名 新目录名        &#x2F;&#x2F;修改目录名，同样适用与文件操作<br>mv &#x2F;usr&#x2F;tmp&#x2F;tool &#x2F;opt       &#x2F;&#x2F;将&#x2F;usr&#x2F;tmp目录下的tool目录剪切到 &#x2F;opt目录下面<br>mv -r &#x2F;usr&#x2F;tmp&#x2F;tool &#x2F;opt    &#x2F;&#x2F;递归剪切目录中所有文件和文件夹 &#x2F;&#x2F;该命令错误</p>
<h2 id="拷贝目录"><a href="#拷贝目录" class="headerlink" title="拷贝目录"></a>拷贝目录</h2><p>cp &#x2F;usr&#x2F;tmp&#x2F;tool &#x2F;opt       &#x2F;&#x2F;将&#x2F;usr&#x2F;tmp目录下的tool目录复制到 &#x2F;opt目录下面<br>  cp -r &#x2F;usr&#x2F;tmp&#x2F;tool &#x2F;opt    &#x2F;&#x2F;递归剪复制目录中所有文件和文件夹</p>
<p>cp -a a.txt b.txt   &#x2F;&#x2F;复制时保留文件的元数据，既保留所属用户所属组等信息</p>
<p>cp -f a.txt b.txt &#x2F;&#x2F;强制覆盖目标目录同名文件，因为别名的存在可能不成功，需要撤销默认定义的别名</p>
<h2 id="搜索目录"><a href="#搜索目录" class="headerlink" title="搜索目录"></a>搜索目录</h2><p>find &#x2F;bin -name ‘a*’ &#x2F;&#x2F;查找&#x2F;bin目录下的所有以a开头的文件或者目录</p>
<h2 id="查看当前目录"><a href="#查看当前目录" class="headerlink" title="查看当前目录"></a>查看当前目录</h2><p>pwd &#x2F;&#x2F;显示当前位置路径</p>
<h1 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h1><h2 id="新增文件"><a href="#新增文件" class="headerlink" title="新增文件"></a>新增文件</h2><p>touch a.txt &#x2F;&#x2F;在当前目录下创建名为a的txt文件（文件不存在），如果文件存在，将文件时间属性修改为当前系统时间</p>
<h2 id="删除文件"><a href="#删除文件" class="headerlink" title="删除文件"></a>删除文件</h2><p>rm 文件名              &#x2F;&#x2F;删除当前目录下的文件<br>  rm -f 文件名           &#x2F;&#x2F;删除当前目录的的文件（不询问）</p>
<h2 id="编辑文件"><a href="#编辑文件" class="headerlink" title="编辑文件"></a>编辑文件</h2><p>vi 文件名              &#x2F;&#x2F;打开需要编辑的文件<br>–进入后，操作界面有三种模式：命令模式（command mode）、插入模式（Insert mode）和底行模式（last line mode）<br>命令模式<br>-刚进入文件就是命令模式，通过方向键控制光标位置，<br>-使用命令”dd”删除当前整行<br>-使用命令”&#x2F;字段”进行查找<br>-按”i”在光标所在字符前开始插入<br>-按”a”在光标所在字符后开始插入<br>-按”o”在光标所在行的下面另起一新行插入<br>-按”：”进入底行模式<br>插入模式<br>-此时可以对文件内容进行编辑，左下角会显示 “– 插入 –””<br>-按”ESC”进入底行模式<br>底行模式<br>-退出编辑：      :q<br>-强制退出：      :q!<br>-保存并退出：    :wq</p>
<p>##操作步骤示例##</p>
<p>1.保存文件：按”ESC” -&gt; 输入”:” -&gt; 输入”wq”,回车     &#x2F;&#x2F;保存并退出编辑<br>2.取消操作：按”ESC” -&gt; 输入”:” -&gt; 输入”q!”,回车     &#x2F;&#x2F;撤销本次修改并退出编辑</p>
<p>##补充##</p>
<p>vim +10 filename.txt                   &#x2F;&#x2F;打开文件并跳到第10行<br>vim -R &#x2F;etc&#x2F;passwd                     &#x2F;&#x2F;以只读模式打开文件</p>
<h2 id="查看文件"><a href="#查看文件" class="headerlink" title="查看文件"></a>查看文件</h2><p>cat a.txt          &#x2F;&#x2F;查看文件最后一屏内容<br>less a.txt         &#x2F;&#x2F;PgUp向上翻页，PgDn向下翻页，”q”退出查看<br>more a.txt         &#x2F;&#x2F;显示百分比，回车查看下一行，空格查看下一页，”q”退出查看<br>tail -100 a.txt    &#x2F;&#x2F;查看文件的后100行，”Ctrl+C”退出查看</p>
<p>tail -f a.txt</p>
<p>sort</p>
<p>uniq</p>
<p>od</p>
<p>strings</p>
<h1 id="别名"><a href="#别名" class="headerlink" title="别名"></a>别名</h1><p>alias ^c&#x3D;’clear’ &#x2F;&#x2F;定义命令的别名</p>
<p>unalias clear &#x2F;&#x2F;撤销别名</p>
<h1 id="文件权限"><a href="#文件权限" class="headerlink" title="文件权限"></a>文件权限</h1><h2 id="权限说明"><a href="#权限说明" class="headerlink" title="权限说明"></a>权限说明</h2><p>文件权限简介：’r’ 代表可读（4），’w’ 代表可写（2），’x’ 代表执行权限（1），括号内代表”8421法”<br>##文件权限信息示例：-rwxrw-r–<br>-第一位：’-‘就代表是文件，’d’代表是文件夹<br>-第一组三位：拥有者的权限<br>-第二组三位：拥有者所在的组，组员的权限<br>-第三组三位：代表的是其他用户的权限</p>
<h2 id="文件权限-1"><a href="#文件权限-1" class="headerlink" title="文件权限"></a>文件权限</h2><p>普通授权    chmod +x a.txt </p>
<p>chmod a&#x3D;rwx a.txt<br>  8421法     chmod 777 a.txt     &#x2F;&#x2F;1+2+4&#x3D;7，”7”说明授予所有权限</p>
<p>文件默认最高权限 666</p>
<p>目录默认最高权限777</p>
<p>权限掩码umask 0022</p>
<p>权限掩码设置为333时，计算的默认权限应为333，实际却为444，因为文件默认没有可执行权限，如果为333得话则拥有了可执行权限，故3+1得到读权限</p>
<p><strong>SUID-setuid</strong></p>
<p>临时赋予当前用户可执行文件所有者的权限。</p>
<p>chmod u+s &#x2F;use&#x2F;bin&#x2F;rm</p>
<p><strong>SGID-setgid</strong></p>
<p>临时赋予当前用户可执行文件所有者的权限</p>
<p>具有sgid权限的目录下的文件的属组继承其父目录的属组</p>
<p>chmod g+s &#x2F;tmp&#x2F;a</p>
<p><strong>stickybit 粘滞位</strong></p>
<p>在设置了粘滞位的目录下面的文件，只有文件的属主或者root才拥有删除的权限</p>
<p>chmod o+t &#x2F;tmp&#x2F;a</p>
<p>一般&#x2F;tmp配置有粘滞位</p>
<h2 id="ACL"><a href="#ACL" class="headerlink" title="ACL"></a>ACL</h2><p>setfacl -m u:armandhe:rwx a.txt &#x2F;&#x2F;给用户armandhe设置acl</p>
<p>setfacl -m m::rwx filename &#x2F;&#x2F;设置文件的最大有效权限为rwx</p>
<p>setfacl -x u:armandhe:rw filename &#x2F;&#x2F;删除armandhe的rw权限</p>
<p>setfacl -x g:armandhe:rw filename &#x2F;&#x2F;删除组armandhe的rw权限</p>
<p>setfacl -b a &#x2F;&#x2F;删除所有acl权限</p>
<p>setfacl -m d:u:armandhe:rw dirname &#x2F;&#x2F;指定默认acl权限，只对目录生效，以后新建的所有子文件都继承该目录的acl权限，只针对新建的文件生效</p>
<p>setfacl -m u:armandhe:rwx -R&#x2F;tmp &#x2F;&#x2F;指定递归acl权限，父目录下的所有文件都继承父目录的acl</p>
<p>getacl a.txt &#x2F;&#x2F;查看文件的acl信息</p>
<p>mount &#x2F;&#x2F;查看系统挂载信息</p>
<p>dumpe2fs -h 分区 查看指定分区文件系统详细信息</p>
<h2 id="修改用户使用命令权限执行系统操作"><a href="#修改用户使用命令权限执行系统操作" class="headerlink" title="修改用户使用命令权限执行系统操作"></a>修改用户使用命令权限执行系统操作</h2><p>有些命令普通用户并没有执行的权限，那么怎么让某一个用户拥有执行这些命令的权限呢？</p>
<p>修改&#x2F;etc&#x2F;sudoers文件来赋予用户操作系统的权限：可使用命令visudo 直接跳到该文件编辑</p>
<p>配置文件内容：</p>
<p>root ALL&#x3D;(ALL)  ALL </p>
<p>第一个参数-用户名，第二个参数-用户从哪儿登录-主机IP地址&#x2F;prefix，第三个参数-以什么身份运行，最后一个参数-哪些命令-命令的绝对路径，通过逗号分割</p>
<p>这样修改太过麻烦暴力，可以通过将用户加入到wheel组中来实现赋予普通用户系统级权限。</p>
<p>armandhe ALL&#x3D;(root) NOPASSWD:&#x2F;usr&#x2F;passwd [a-zA-z]* ,!&#x2F;usr&#x2F;passwd root &#x2F;&#x2F;不需要输入当前用户密码即可执行passwd命令 不允许修改root用户的密码</p>
<p>armandhe ALL&#x3D;(root) &#x2F;usr&#x2F;ifconfig,! &#x2F;usr&#x2F;ifconfig [a-zA-Z]* down &#x2F;&#x2F;可以更改IP地址，不可以关闭网卡</p>
<p>修改之后，切换到用户armandhe，通过在命令前面添加sudo 来获取root用户的执行权限。</p>
<h1 id="打包与解压"><a href="#打包与解压" class="headerlink" title="打包与解压"></a>打包与解压</h1><h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><p>.zip、.rar        &#x2F;&#x2F;windows系统中压缩文件的扩展名<br>.tar              &#x2F;&#x2F;Linux中打包文件的扩展名<br>.gz               &#x2F;&#x2F;Linux中压缩文件的扩展名<br>.tar.gz           &#x2F;&#x2F;Linux中打包并压缩文件的扩展名</p>
<p>zcat compress_file &#x2F;&#x2F;查看压缩文件的内容</p>
<p>gzip -d a.txt.gz &#x2F;&#x2F;解压</p>
<p>gzip -c a.txt &gt; a.txt.gz &#x2F;&#x2F;保留源文件</p>
<p>tar -xf jack.txt.tar -C &#x2F;tmp&#x2F;  &#x2F;&#x2F;解压另存为</p>
<p>tar -cft jack tar a.txt b.txt &#x2F;&#x2F; 列出包中文件</p>
<h2 id="打包文件"><a href="#打包文件" class="headerlink" title="打包文件"></a>打包文件</h2><p>tar -zcvf 打包压缩后的文件名 要打包的文件<br>  参数说明：z：调用gzip压缩命令进行压缩; c：打包文件; v：显示运行过程; f：指定文件名;<br>  示例：<br> tar -zcvf a.tar file1 file2,…      &#x2F;&#x2F;多个文件压缩打包</p>
<h2 id="解压文件"><a href="#解压文件" class="headerlink" title="解压文件"></a>解压文件</h2><p>tar -zxvf a.tar                      &#x2F;&#x2F;解包至当前目录<br>tar -zxvf a.tar -C &#x2F;usr——        &#x2F;&#x2F;指定解压的位置</p>
<p>zip <a target="_blank" rel="noopener external nofollow noreferrer" href="http://a.txt.zip/">a.txt.zip</a> a.txt<br>unzip test.zip             &#x2F;&#x2F;解压*.zip文件<br>unzip -l test.zip          &#x2F;&#x2F;查看*.zip文件的内容</p>
<h1 id="其他常用命令"><a href="#其他常用命令" class="headerlink" title="其他常用命令"></a>其他常用命令</h1><h2 id="find"><a href="#find" class="headerlink" title="find"></a>find</h2><p>find . -name “*.c”     &#x2F;&#x2F;将目前目录及其子目录下所有延伸档名是 c 的文件列出来<br>find . -type f         &#x2F;&#x2F;将目前目录其其下子目录中所有一般文件列出<br>find . -ctime -20      &#x2F;&#x2F;将目前目录及其子目录下所有最近 20 天内更新过的文件列出<br>find &#x2F;var&#x2F;log -type f -mtime +7 -ok rm {} ;     &#x2F;&#x2F;查找&#x2F;var&#x2F;log目录中更改时间在7日以前的普通文件，并在删除之前询问它们<br>find . -type f -perm 644 -exec ls -l {} ;       &#x2F;&#x2F;查找前目录中文件属主具有读、写权限，并且文件所属组的用户和其他用户具有读权限的文件<br>find &#x2F; -type f -size 0 -exec ls -l {} ;         &#x2F;&#x2F;为了查找系统中所有文件长度为0的普通文件，并列出它们的完整路径</p>
<p>find &#x2F; -size +2M &#x2F;&#x2F;查找大于两兆的文件</p>
<p>find &#x2F; -size -2K &#x2F;&#x2F;查找小于2k的文件</p>
<p>ls | xargs wc &#x2F;&#x2F;将前面的命令的执行结果作为后一个命令的参数</p>
<h2 id="whereis"><a href="#whereis" class="headerlink" title="whereis"></a>whereis</h2><p>whereis ls &#x2F;&#x2F;将和ls文件相关的文件都查找出来，命令所在目录以及手册所在目录</p>
<h2 id="which"><a href="#which" class="headerlink" title="which"></a>which</h2><p>说明：which指令会在环境变量$PATH设置的目录里查找符合条件的文件。<br>  which bash             &#x2F;&#x2F;查看指令”bash”的绝对路径</p>
<h2 id="sudo"><a href="#sudo" class="headerlink" title="sudo"></a>sudo</h2><p>说明：sudo命令以系统管理者的身份执行指令，也就是说，经由 sudo 所执行的指令就好像是 root 亲自执行。需要输入自己账户密码。<br>使用权限：在 &#x2F;etc&#x2F;sudoers 中有出现的使用者<br>sudo -l                              &#x2F;&#x2F;列出目前的权限<br>$ sudo -u yao vi ~www&#x2F;index.html    &#x2F;&#x2F;以 yao 用户身份编辑  home 目录下www目录中的 index.html 文件</p>
<h2 id="grep"><a href="#grep" class="headerlink" title="grep"></a>grep</h2><p>grep -i “the”  demo_file              &#x2F;&#x2F;在文件中查找字符串(不区分大小写)<br>grep -A 3 -i “example”  demo_text     &#x2F;&#x2F;输出成功匹配的行，以及该行之后的三行苏<br>grep -r “ramesh”  *                   &#x2F;&#x2F;在一个文件夹中递归查询包含指定字符串的文件</p>
<p>grep -E &#x2F;&#x2F;使用扩展正则表达式</p>
<p>grep -o &#x2F;&#x2F;输出匹配部分</p>
<p>egrep &#x2F;&#x2F;扩展正则表达式</p>
<p>grep -c &#x2F;&#x2F;输出匹配到的行</p>
<h2 id="service"><a href="#service" class="headerlink" title="service"></a>service</h2><p>说明：service命令用于运行System V init脚本，这些脚本一般位于&#x2F;etc&#x2F;init.d文件下，这个命令可以直接运行这个文件夹里面的脚本，而不用加上路径<br>service ssh status      &#x2F;&#x2F;查看服务状态<br>service –status-all    &#x2F;&#x2F;查看所有服务状态<br>service ssh restart     &#x2F;&#x2F;重启服务</p>
<h2 id="free"><a href="#free" class="headerlink" title="free"></a>free</h2><p>说明：这个命令用于显示系统当前内存的使用情况，包括已用内存、可用内存和交换内存的情况<br>  free -g            &#x2F;&#x2F;以G为单位输出内存的使用量，-g为GB，-m为MB，-k为KB，-b为字节<br>  free -t            &#x2F;&#x2F;查看所有内存的汇总</p>
<p><code>free -s N //每N秒打印一次</code></p>
<p><code>free -c  N  //打印N次后停止</code></p>
<h2 id="top"><a href="#top" class="headerlink" title="top"></a>top</h2><p>top &#x2F;&#x2F;显示当前系统中占用资源最多的一些进程, shift+m 按照内存大小查看</p>
<h2 id="df"><a href="#df" class="headerlink" title="df"></a>df</h2><p>说明：显示文件系统的磁盘使用情况<br>  df -h            &#x2F;&#x2F;一种易看的显示</p>
<h2 id="mount"><a href="#mount" class="headerlink" title="mount"></a>mount</h2><p>mount &#x2F;dev&#x2F;sdb1 &#x2F;u01              &#x2F;&#x2F;挂载一个文件系统，需要先创建一个目录，然后将这个文件系统挂载到这个目录上<br>dev&#x2F;sdb1 &#x2F;u01 ext2 defaults 0 2   &#x2F;&#x2F;添加到fstab中进行自动挂载，这样任何时候系统重启的时候，文件系统都会被加载 0是否检查 2转换</p>
<h2 id="uname"><a href="#uname" class="headerlink" title="uname"></a>uname</h2><p>说明：uname可以显示一些重要的系统信息，例如内核名称、主机名、内核版本号、处理器类型之类的信息<br>  uname -a</p>
<p>uname -r &#x2F;&#x2F;内核版本</p>
<p>uname -m &#x2F;&#x2F;架构</p>
<p>uname -s &#x2F;&#x2F;设备类型</p>
<p>uname -o &#x2F;&#x2F;操作系统</p>
<p>unam -n &#x2F;&#x2F;node信息，用户名</p>
<h2 id="yum"><a href="#yum" class="headerlink" title="yum"></a>yum</h2><p>说明：安装插件命令<br>  yum install httpd      &#x2F;&#x2F;使用yum安装apache<br>  yum update httpd       &#x2F;&#x2F;更新apache<br>  yum remove httpd       &#x2F;&#x2F;卸载&#x2F;删除apache</p>
<h2 id="rpm"><a href="#rpm" class="headerlink" title="rpm"></a>rpm</h2><p>说明：插件安装命令<br>rpm -ivh httpd-2.2.3-22.0.1.el5.i386.rpm      &#x2F;&#x2F;使用rpm文件安装apache<br>rpm -uvh httpd-2.2.3-22.0.1.el5.i386.rpm      &#x2F;&#x2F;使用rpm更新apache<br>rpm -ev httpd                                 &#x2F;&#x2F;卸载&#x2F;删除apache</p>
<h2 id="date"><a href="#date" class="headerlink" title="date"></a>date</h2><p>date -s “01&#x2F;31&#x2F;2010 23:59:53” &#x2F;&#x2F;&#x2F;设置系统时间</p>
<h2 id="wget"><a href="#wget" class="headerlink" title="wget"></a>wget</h2><p>说明：使用wget从网上下载软件、音乐、视频<br>示例：wget <a target="_blank" rel="noopener external nofollow noreferrer" href="http://prdownloads.sourceforge.net/sourceforge/nagios/nagios-3.2.1.tar.gz">http://prdownloads.sourceforge.net/sourceforge/nagios/nagios-3.2.1.tar.gz</a><br>&#x2F;&#x2F;下载文件并以指定的文件名保存文件<br>wget -O nagios.tar.gz <a target="_blank" rel="noopener external nofollow noreferrer" href="http://prdownloads.sourceforge.net/sourceforge/nagios/nagios-3.2.1.tar.gz">http://prdownloads.sourceforge.net/sourceforge/nagios/nagios-3.2.1.tar.gz</a></p>
<h2 id="ftp"><a href="#ftp" class="headerlink" title="ftp"></a>ftp</h2><p>ftp IP&#x2F;hostname    &#x2F;&#x2F;访问ftp服务器<br>mls *.html -       &#x2F;&#x2F;显示远程主机上文件列表</p>
<h2 id="scp"><a href="#scp" class="headerlink" title="scp"></a>scp</h2><p>scp &#x2F;opt&#x2F;data.txt 192.168.1.101:&#x2F;opt&#x2F; <a target="_blank" rel="noopener external nofollow noreferrer" href="https://将本地opt目录下的data文件发送到192.168.1.101服务器的opt目录下/">&#x2F;&#x2F;将本地opt目录下的data文件发送到192.168.1.101服务器的opt目录下</a>安全的拷贝</p>
<h1 id="系统管理"><a href="#系统管理" class="headerlink" title="系统管理"></a>系统管理</h1><h2 id="防火墙操作"><a href="#防火墙操作" class="headerlink" title="防火墙操作"></a>防火墙操作</h2><p>service iptables status      &#x2F;&#x2F;查看iptables服务的状态<br>service iptables start       &#x2F;&#x2F;开启iptables服务<br>service iptables stop        &#x2F;&#x2F;停止iptables服务<br>service iptables restart     &#x2F;&#x2F;重启iptables服务<br>chkconfig iptables off       &#x2F;&#x2F;关闭iptables服务的开机自启动<br>chkconfig iptables on        &#x2F;&#x2F;开启iptables服务的开机自启动<br>##centos7 防火墙操作<br>systemctl status firewalld.service     &#x2F;&#x2F;查看防火墙状态<br>systemctl stop firewalld.service       &#x2F;&#x2F;关闭运行的防火墙<br>systemctl disable firewalld.service    &#x2F;&#x2F;永久禁止防火墙服务<br>x</p>
<h2 id="修改主机名"><a href="#修改主机名" class="headerlink" title="修改主机名"></a>修改主机名</h2><p>hostnamectl set-hostname 主机名</p>
<h2 id="查看ip"><a href="#查看ip" class="headerlink" title="查看ip"></a>查看ip</h2><p>ifconfig</p>
<h2 id="修改IP"><a href="#修改IP" class="headerlink" title="修改IP"></a>修改IP</h2><p>修改网络配置文件，文件地址：&#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-eth0</p>
<p>主要修改以下配置：<br>TYPE&#x3D;Ethernet &#x2F;&#x2F;网络类型<br>BOOTPROTO&#x3D;static &#x2F;&#x2F;静态IP<br>DEVICE&#x3D;ens00 &#x2F;&#x2F;网卡名<br>IPADDR&#x3D;192.168.1.100 &#x2F;&#x2F;设置的IP<br>NETMASK&#x3D;255.255.255.0 &#x2F;&#x2F;子网掩码<br>GATEWAY&#x3D;192.168.1.1 &#x2F;&#x2F;网关<br>DNS1&#x3D;192.168.1.1 &#x2F;&#x2F;DNS<br>DNS2&#x3D;8.8.8.8 &#x2F;&#x2F;备用DNS<br>ONBOOT&#x3D;yes &#x2F;&#x2F;系统启动时启动此设置</p>
<p>修改保存以后使用命令重启网卡：service network restart</p>
<h2 id="配置映射"><a href="#配置映射" class="headerlink" title="配置映射"></a>配置映射</h2><p>修改文件： vi &#x2F;etc&#x2F;hosts<br>在文件最后添加映射地址，示例如下：<br>192.168.1.101  node1<br>192.168.1.102  node2<br>192.168.1.103  node3<br>配置好以后保存退出，输入命令：ping node1 ，可见实际 ping 的是 192.168.1.101。</p>
<h2 id="查看进程"><a href="#查看进程" class="headerlink" title="查看进程"></a>查看进程</h2><p>ps -ef &#x2F;&#x2F;查看所有正在运行的进程</p>
<h2 id="结束进程"><a href="#结束进程" class="headerlink" title="结束进程"></a>结束进程</h2><p>kill pid       &#x2F;&#x2F;杀死该pid的进程<br>kill -9 pid    &#x2F;&#x2F;强制杀死该进程</p>
<h2 id="查看连接"><a href="#查看连接" class="headerlink" title="查看连接"></a>查看连接</h2><p>ping IP        &#x2F;&#x2F;查看与此IP地址的连接情况<br>netstat -an    &#x2F;&#x2F;查看当前系统端口<br>netstat -antplu | grep 8080     &#x2F;&#x2F;查看指定端口</p>
<h2 id="快速清屏"><a href="#快速清屏" class="headerlink" title="快速清屏"></a>快速清屏</h2><p>ctrl+l &#x2F;&#x2F;清屏，往上翻可以查看历史操作</p>
<h2 id="远程主机"><a href="#远程主机" class="headerlink" title="远程主机"></a>远程主机</h2><p>ssh IP       &#x2F;&#x2F;远程主机，需要输入用户名和密码</p>
<h1 id="颜色与类型的关系"><a href="#颜色与类型的关系" class="headerlink" title="颜色与类型的关系"></a>颜色与类型的关系</h1><p><a href="Untitled%2089612a0e61964bd0bcf641f9d74c2bb9.csv">Untitled</a></p>
<p><a href="Untitled%20daabe5b96d5f4c8c86a5fe8a42c2f598.csv">Untitled</a></p>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.jb51.net/article/174033.htm">linux中$符号的基础用法总结_Linux_脚本之家</a></p>
<p>!! 最后一条命令<br><code>!$</code> 将上一条命令的参数应用于这一条<br>^R 查找命令</p>
<p>su切换用户时加-与不加的区别<br>加-：会加载切换用户的shell环境，运行的的login shell 运行 &#x2F;etc&#x2F;profile &#x2F;etc&#x2F;bashrc  <del>&#x2F;.bashrc ~&#x2F;.bash_profile (</del>&#x2F;.bash_history-历史命令 <del>&#x2F;.bash_logout-可以写入命令在退出用户时执行)退出时运行<br>不加-：不会加载用户的shell环境，运行的是nologin shell &#x2F;etc&#x2F;bashrc ~&#x2F;.bashrc  (</del>&#x2F;bash_history ~&#x2F;bash_logout)退出时运行</p>
<p>ls | tee a.txt 与| a.txt的区别tee管道不会截流，命令结果仍然或输出到屏幕</p>
<p>&#x2F;etc&#x2F;profile &#x2F;&#x2F;系统启动的时候才执行一次，之后不再执行，其中主要定义一些环境变量</p>
<p>~&#x2F;.bashrc  &#x2F;&#x2F;当前用户每新开一个shell就执行一次 ，其中主要定义别名之类的信息</p>
<p>系统开机时首先去执行&#x2F;etc&#x2F;profile文件，然后根据其中的内容到&#x2F;etc&#x2F;profile.d&#x2F;中读取额外的设定文档。然后读取&#x2F;etc&#x2F;bashrc的内容。然后根据登录用户的信息去对应的家目录读取<del>&#x2F;.bash_profile，如果不能读取则去读取</del>&#x2F;.bash_login，如果仍不能读取则去读<del>&#x2F;.profile中的内容，这三个文件中的内容基本一致。然后读取</del>&#x2F;.bashrc中的内容<br><code>eject //弹出挂载的光盘</code></p>
<h2 id="shell-脚本中使用python脚本"><a href="#shell-脚本中使用python脚本" class="headerlink" title="shell 脚本中使用python脚本"></a><strong>shell 脚本中使用python脚本</strong></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/usr/bin/python &lt;&lt;-<span class="string">a</span></span><br><span class="line"><span class="string">print(&quot;armandhe&quot;)</span></span><br><span class="line"><span class="string">a</span></span><br><span class="line">\<span class="built_in">ls</span> //不使用别名输出，例中将运行结果将不显示颜色 </span><br><span class="line"><span class="built_in">unalias</span> <span class="built_in">ls</span> //取消<span class="built_in">ls</span>的别名</span><br></pre></td></tr></table></figure>

<p><code>echo -e &quot;\e[1;31m this is a test to change fg color \e[0m&quot; //30-37 前景色 echo -e &quot;\e[1;40m this is a test to change fg color \e[0m&quot; //40-47 背景色</code></p>
<p>.&#x2F;a.sh<br>bash a.sh<br>子shell执行<br>. a.sh<br>source a.sh<br>当前shell执行<br>^k &#x2F;&#x2F;删除光标后的内容<br>^a &#x2F;&#x2F;回到命令开头<br>^e &#x2F;&#x2F;回到命令结尾<br>^b &#x2F;&#x2F;光标向前移动一格<br>^n &#x2F;&#x2F;清空当前命令<br>^h &#x2F;&#x2F;退格删除<br>read -p “please type ip addr: “ ip &#x2F;&#x2F;提示用户输入<br>id username &#x2F;&#x2F;判断用户是否存在</p>
<p>$? &#x2F;&#x2F;上一条命令执行的结果 执行陈工为0</p>
<p>env &#x2F;&#x2F;显示当前所有的环境变量</p>
<p>expr $num1 + $num2    expr 1 + 2<br>[ 1 + 2 ]<br>echo $(($num1 + $num2))<br>echo $((num1 + num2))</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">url=[www.baidu.com.cn](https://www.notion.so/www.baidu.com.cn)</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;url#*.&#125;</span> //baidu.com.cn 从前往后删除匹配部分，非贪婪匹配</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;url##*.&#125;</span> //cn 从前往后删除匹配部分，贪婪匹配</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;url%.cn&#125;</span> // [www.baidu.com](https://www.notion.so/www.baidu.com) 从后往前删除匹配部分，非贪婪匹配</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;url%%.*&#125;</span> //www 从王往前删除匹配部分，贪婪匹配</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;url/c/C&#125;</span> //[www.baidu.Com.cn](https://www.notion.so/www.baidu.Com.cn) 内容替换替换单个</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;url//c/C&#125;</span> //[www.baidu.Com.Cn](https://www.notion.so/www.baidu.Com.Cn) 内容替换，替换多个</span><br></pre></td></tr></table></figure>

<p>unset var<br>echo ${var-aaaa} &#x2F;&#x2F;变量未被定义，var的值被替换为aaaa</p>
<p>var&#x3D;1<br>echo ${var-aaaa} &#x2F;&#x2F;var有值，其值不能被替代</p>
<p>var&#x3D;<br>echo ${var-aaa} &#x2F;&#x2F;var被定义过，其值不可被提到</p>
<p>var&#x3D;<br>echo ${var:-aaaa} &#x2F;&#x2F;var被定义过，但为空，其值被替代为aaaa</p>
<p><code>+ :+ =  := ? :？</code></p>
<p>let i++<br>let ++i<br>let –i<br>let I–</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> &#123;1..5&#125; <span class="comment">#集合</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> 2345</span><br><span class="line"><span class="keyword">done</span>   //循环执行五次</span><br><span class="line"></span><br><span class="line"><span class="built_in">date</span>）//在子shell中执行</span><br></pre></td></tr></table></figure>

<p>((1&lt;2)) &#x2F;&#x2F;使用&lt; &gt; 等符号进行比较<br>touch $(date +%F)_file.txt &#x2F;&#x2F;命令替换与&#96;&#96;效果一致<br>$((1+2))<br>test 1 -eq 2 &#x2F;&#x2F;条件测试<br>[ 1 -eq 2 ] &#x2F;&#x2F;条件测试<br><code>[[[www.baidu.com](https://www.notion.so/www.baidu.com) =~ *baidu]] //条件测试 正则比较未测试成功</code> 正则比较必须用这种格式<br>&#x3D;~ &#x2F;&#x2F;按照正则方式匹配<br>$[1 + 2] &#x2F;&#x2F;整数运算<br>{} &#x2F;&#x2F;集合{1..8}<br>${} &#x2F;&#x2F;使用变量，定界<br><code>export a=1 //环境变量</code></p>
<p>sh -vx a.sh &#x2F;&#x2F;以调试的方式执行<br>sh -n a.sh &#x2F;&#x2F;仅调试语法测试</p>
<p>seq 10 &#x2F;&#x2F;生成一个1-10的序列</p>
<p>seq 1 10 &#x2F;&#x2F;生成1-10的序列</p>
<p>seq 1 2 10 &#x2F;&#x2F;以2为步长生成1-10的序列</p>
<p>userdel -rf a &#x2F;&#x2F;删除用户及其家目录</p>
<h2 id="更改centos镜像源"><a href="#更改centos镜像源" class="headerlink" title="更改centos镜像源"></a>更改centos镜像源</h2><p>首先备份原镜像配置文件</p>
<p>cp &#x2F;etc&#x2F;yum.repos.d&#x2F;centos-base.repo &#x2F;etc&#x2F;yum.repos.d&#x2F;centos-base.repo.bak</p>
<p>cd到&#x2F;etc&#x2F;yum.repos.d</p>
<p>下载你的镜像配置文件</p>
<p>wget <a target="_blank" rel="noopener external nofollow noreferrer" href="http://domain/">http://domain</a>  </p>
<h2 id="安装中文输入法"><a href="#安装中文输入法" class="headerlink" title="安装中文输入法"></a>安装中文输入法</h2><p>apt-get install fcitx -y &#x2F;&#x2F;安装输入法框架</p>
<p>apt-get install fcitx-googlepinyin</p>
<p>reboot</p>
<p>搜索fcitx将谷歌拼音设置为首选输入法</p>
<h1 id="磁盘管理"><a href="#磁盘管理" class="headerlink" title="磁盘管理"></a>磁盘管理</h1><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.runoob.com/linux/linux-filesystem.html">Linux 磁盘管理</a></p>
<p><a href="%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86%2062b6eff0337a41abbeeec6c6025fb791.csv">磁盘管理</a></p>
<h1 id="磁盘管理-1"><a href="#磁盘管理-1" class="headerlink" title="磁盘管理"></a>磁盘管理</h1><h2 id="raid-独立磁盘冗余整列"><a href="#raid-独立磁盘冗余整列" class="headerlink" title="raid-独立磁盘冗余整列"></a>raid-独立磁盘冗余整列</h2><p>分为软件整列与硬件整列</p>
<p>raid0 </p>
<p>数据写入的时候，被分成N块，同时并发写入不同的磁盘，没有校验机制，一个磁盘损坏所有磁盘就算坏了，高效</p>
<p>raid1</p>
<p>数据被复制n份，同时写入不同的磁盘，速度慢</p>
<p>raid3</p>
<p>数据被分成n份写入，添加了校验机制，一块磁盘单独来保存校验信息，一块磁盘损坏可通过校验信息来回复。校验磁盘损坏后就失去了回复的能力</p>
<p>raid5</p>
<p>数据被分成n份写入，每一块磁盘中都包含了属于其他磁盘的校验信息，当一块磁盘损坏了，就可以根据其他磁盘回复数据</p>
<p>raid6</p>
<p>数据被分成n份写入，在raid5的基础上添加了双重校验功能，每一个磁盘都有了两份校验数据</p>
<p>raid10</p>
<p>先将数据复制两份，每一份再按照raid0的方式存储</p>
<p>磁盘</p>
<p>柱面 磁头 扇区 块 分区</p>
<p>分区 </p>
<p><strong>mbr</strong> ：4个分区，3个主分区+1个逻辑分区 扇区 512字节 0号扇区中包括226字节的bootloader 64字节的分区表，2字节的表值 一个分区占用16字节，故最多只能有4个分区，最多有2<strong>16*4个扇区，2</strong>16<em>512</em>4 字节的存储空间。</p>
<p>**gpt：**第一个扇区定义了分区的数量等信息，第二个扇区为分区表头，第三个扇区开始为分区表，gpt分区一般有32个扇区的分区表，一个扇区可以有4个分区信息，那么一个分区就有128位，故一共可以有128个分区，所以基本上不会有分区大小与分区数量的限制。</p>
<p>硬盘接口类型</p>
<p>ide sata scsi sas等接口</p>
<p>查看分区信息</p>
<p>partx &#x2F;dev&#x2F;sda &#x2F;&#x2F;</p>
<p>cat &#x2F;proc&#x2F;partitions &#x2F;&#x2F;显示分区信息</p>
<p>partprobe &#x2F;dev&#x2F;sda &#x2F;&#x2F;重新加载硬盘信息</p>
<p>linux vfs-虚拟文件系统。对底层文件系统的抽象，用户使用该文件系统操作文件</p>
<h2 id="硬盘分区步骤"><a href="#硬盘分区步骤" class="headerlink" title="硬盘分区步骤"></a>硬盘分区步骤</h2><p>分区</p>
<p>格式化文件系统</p>
<p>挂载：临时挂载，永久挂载-修改&#x2F;etc&#x2F;fstab</p>
<p>mount -a &#x2F;&#x2F;重读挂载表</p>
<h2 id="交换分区"><a href="#交换分区" class="headerlink" title="交换分区"></a>交换分区</h2><p>内存中不常用的数据可放在交换分区中，window中叫做虚拟内存</p>
<p>m &#x2F;&#x2F;查看帮助</p>
<p>fsdisk &#x2F;dev&#x2F;sda</p>
<p>分区</p>
<p>t  &#x2F;&#x2F; 输入分区编号为82，通看分区类型，82为交换分区</p>
<p>重新加载分区表 partprobe &#x2F;dev&#x2F;sda</p>
<p>mkswap &#x2F;dev&#x2F;sda3 &#x2F;&#x2F;创建交换分区</p>
<p>swapon  &#x2F;dev&#x2F;sda3 &#x2F;&#x2F;开启交换分区</p>
<p>swapoff &#x2F;dev&#x2F;sda3 &#x2F;&#x2F;关闭交换分区</p>
<h2 id="磁盘挂载配置文件"><a href="#磁盘挂载配置文件" class="headerlink" title="磁盘挂载配置文件"></a>磁盘挂载配置文件</h2><p>进入&#x2F;dev&#x2F;fstable</p>
<p>&#x2F;dev&#x2F;mapper&#x2F;centos-root &#x2F; xfs defaults 0 0 </p>
<p>设备文件 挂载点 文件系统类型 挂载选项 检测顺序0表示不检测 转存</p>
<p>mount -a &#x2F;&#x2F;重读挂载表</p>
<h2 id="LVM-logic-volume-manager-逻辑卷管理器"><a href="#LVM-logic-volume-manager-逻辑卷管理器" class="headerlink" title="LVM-logic volume manager 逻辑卷管理器"></a>LVM-logic volume manager 逻辑卷管理器</h2><p>将不同的硬盘逻辑划分为不同的分区</p>
<p>pv-物理卷 整块物理硬盘或者他上面的分区</p>
<p>pe-物理区域  extent </p>
<p>vg-卷组</p>
<p>lv-逻辑卷</p>
<p>le 逻辑区域</p>
<p>卷组描述区域</p>
<h3 id="创建逻辑卷过程"><a href="#创建逻辑卷过程" class="headerlink" title="创建逻辑卷过程"></a>创建逻辑卷过程</h3><ol>
<li><p>创建物理卷</p>
<p> pvcreat &#x2F;dev&#x2F;sda1</p>
<p> pvcreat &#x2F;dev&#x2F;sda2</p>
</li>
<li><p>创建卷组</p>
<p> vgcreat volumegroupname &#x2F;dev&#x2F;sda{1,2}</p>
</li>
<li><p>创建逻辑卷</p>
<p> lvcreat -L|—size volumesize vgname -n lvname</p>
</li>
</ol>
<p>格式化逻辑卷</p>
<p>mkfs.ext4 &#x2F;dev&#x2F;vgname&#x2F;lvname</p>
<p>mkfs -t ext4 &#x2F;dev&#x2F;vgname&#x2F;lvname</p>
<p>挂载</p>
<p>mount &#x2F;dev&#x2F;vgname&#x2F;lvname 挂载点</p>
<p>扩展逻辑卷</p>
<p>lvextend -L +extendsize &#x2F;dev&#x2F;vgname&#x2F;lvname</p>
<p>扩展文件系统</p>
<p>resize2fs &#x2F;dev&#x2F;vgname&#x2F;lvname</p>
<p>扩展卷组</p>
<p>vgextend vgname &#x2F;dev&#x2F;sda3</p>
<p>制作快照分区</p>
<p>lvcreate -L lvsize -n snapshot-lvname -s(指定为快照卷) lvname</p>
<p>挂载快照卷</p>
<p>mount -r &#x2F;dev&#x2F;vgname&#x2F;lvname 挂载路径</p>
<h3 id="备份数据"><a href="#备份数据" class="headerlink" title="备份数据"></a>备份数据</h3><p><strong>备份类型</strong></p>
<p>冷备-离线备份</p>
<p>温备-只读备份</p>
<p>热备-读写备份</p>
<p>几乎热备</p>
<p>快照卷的大小是数据变化的大小</p>
<p>拍摄了快照之后，当原卷发生变化的时候，快照将获取变化信息，并进行写入快照。写时复制。</p>
<p><strong>备份过程-几乎热备</strong></p>
<p>首先锁定要备份的文件，然后拍摄快照，然后解锁，然后根据快照对数据进行备份。</p>
<h2 id="inode-索引节点"><a href="#inode-索引节点" class="headerlink" title="inode-索引节点"></a>inode-索引节点</h2><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/xuz0917/article/details/79473562">Linux的inode的理解_猿子-CSDN博客_inode</a></p>
<p>磁盘的最小存储单位叫做扇区，操作系统的最小操作单位叫做块，一个块由8个扇区组成。一个扇区512bytes，所以一个块4k</p>
<p>文件数据存储在块block中，其他如时间、创建者等信息储存在另一个区域，这个存储文件元信息的区域就叫做inode，即索引节点。</p>
<p><strong>其中包含</strong></p>
<p>文件的大小</p>
<p>uid</p>
<p>gid</p>
<p>权限</p>
<p>时间戳：访问、修改、inode变动时间</p>
<p>links</p>
<p>inode号码</p>
<p>blocks数</p>
<p>ioblock块大小</p>
<p>设备号码</p>
<p>一个inode节点的大小一般是128或者256字节，在格式化的时候一般时每1kB或者2kB就设置一个inode节点。</p>
<p>每个inode都有一个号码，操作系统通过inode号码来识别不同的文件而不是文件名</p>
<p>ls -i a.txt&#x2F;&#x2F;查看inode信息</p>
<p>df -i &#x2F;&#x2F;查看磁盘inode信息</p>
<p>stat a.txt &#x2F;&#x2F;查看文件元数据</p>
<p><strong>普通文件</strong></p>
<p>系统通过文件名找到文件的inode号码，然后哦那个过inode号码获取inode信息，根据inode信息，找到数据所在的block,从而获取信息</p>
<p><strong>目录文件</strong></p>
<p>目录文件中是一系列目录项的列表，每个目录项里包括两部分，所包含的文件名以及文件名对应的inode号码</p>
<p><strong>硬链接</strong></p>
<p>源文件与目标文件都指向同一个inode,删除一个文件并不会整的删除文件信息，只有当所有的文件名都被删除后，文件才真正被删除。inode节点信息中的links就表示指向同一文件的文件名的个数。</p>
<p>创建目录时会生成两个目录项.和..。所以任何一个目录的连接数都等于2加上他的子目录的总数包括隐藏目录</p>
<p><strong>软连接</strong></p>
<p>软连接目标文件的文件内容是指向文件的路径，当系统访问目标文件的时候，目标会见会将访问者导向前一文件。</p>
<h1 id="网络管理"><a href="#网络管理" class="headerlink" title="网络管理"></a>网络管理</h1><p>ifconfig -a &#x2F;&#x2F;显示所有的网卡，包括down掉得</p>
<p>ifconig ens33 ip&#x2F;prefix broadcast down&#x2F;up</p>
<p>ifconfig ens33:0 ip&#x2F;prefix up|down</p>
<p>ifconfig ens33 hw ether macaddr &#x2F;&#x2F;修改mac次啊hi</p>
<p>ifconfig ens33 add ipv6&#x2F; 64</p>
<p>ifconfig ens33 arp</p>
<p>ifconfig ens33 -arp</p>
<p>ifconfig ens33 mtu 1500</p>
<p>ifconfig ens33 up</p>
<p>ifconfig ens33 down</p>
<p>route -n &#x2F;&#x2F;数字形式显示<br>-net &#x2F;&#x2F;网络路由</p>
<p>-host &#x2F;&#x2F;主机路由</p>
<p>route add -net 100.100.100.0&#x2F;24 gw net_skip_addr</p>
<p>route add -host 100.100.100.100 dev 网卡名</p>
<p>route add default gw net_skip_addr</p>
<p>route add -net 0.0.0.0&#x2F;0 gw net_skip_addr</p>
<p>route del -net 网段 netmask 子网掩码 reject &#x2F;&#x2F;设置目标网段不可达</p>
<p>del &#x2F;&#x2F;删除</p>
<p>&#x2F;etc&#x2F;resolv.conf &#x2F;&#x2F;域名地址</p>
<p>netstat -r &#x2F;&#x2F;查询路由</p>
<p>netstat -n &#x2F;&#x2F;不解析成主机名</p>
<p>netstat &#x2F;&#x2F;解析成主机名</p>
<p>netstat -tn &#x2F;&#x2F;tcp</p>
<p>netstat -un &#x2F;&#x2F;udp</p>
<p>netstat -ln &#x2F;&#x2F;监听状态</p>
<p>netstat -a &#x2F;&#x2F;监听状态与建立连接状态</p>
<p>netstat -p &#x2F;&#x2F;启动该端口的进程</p>
<p>curl <a target="_blank" rel="noopener external nofollow noreferrer" href="http://www.baidu.com/">http://www.baidu.com</a></p>
<p>ab -n 10000 -c 100 <a target="_blank" rel="noopener external nofollow noreferrer" href="http://127.0.0.1/">http://127.0.0.1/</a> &#x2F;&#x2F;压力测试，</p>
<p>ip link show</p>
<p>ip link set ens33 up</p>
<p>ip link set ens33 down</p>
<p>ip link set ens33 promisc on</p>
<p>ip link set ens33 promisc off</p>
<p>ip link set ens33 txqueuelen </p>
<p>ip link set ens33 mtu 1500</p>
<p>ip add show</p>
<p>ip addr add ipaddr&#x2F;prefix dev ens33</p>
<p>ip addr del ipaddr&#x2F;prefis dev ens33</p>
<p>ip route show</p>
<p>ip route add 192.168.10.0&#x2F;24 via 192.168.10.254 dev ens33</p>
<p>ip route add default via net_skip_addr &#x2F;&#x2F;添加默认路由</p>
<p>ip route del 192.168.10.0&#x2F;24 dev ens33 &#x2F;&#x2F;删除路由</p>
<p>ip route del 192.168.10.0&#x2F;24 &#x2F;&#x2F;删除网关</p>
<h2 id="网络命名空间"><a href="#网络命名空间" class="headerlink" title="网络命名空间"></a>网络命名空间</h2><p>所谓命名空间可以理解未更为抽象的作用域，他将不同的区域隔离开来，两个区域中相互之间互不影响，再不同的网络命名空间中有独立的协议栈、网络设备、防火墙等。</p>
<p>ip netns add netnamespace_name  &#x2F;&#x2F;添加一个命名空间</p>
<p>ip netns set netnamespce_name netnid &#x2F;&#x2F;未命名空间设置id</p>
<p>ip netns del netnamespace_nam &#x2F;&#x2F;删除</p>
<p>ip netns -all del &#x2F;&#x2F;删除所有</p>
<p>ip netns exec netnamespace_name command &#x2F;&#x2F;再网络命名空间中执行命令</p>
<p>ip netns -all exec command &#x2F;&#x2F;再所有的命名空间中执行命令</p>
<p>ip netns list &#x2F;&#x2F;列出所哟䣌命名空间</p>
<p>ip netns identifu pid &#x2F;&#x2F;某一个进程的netns</p>
<p>ip netns monitor &#x2F;&#x2F;监控对netns的操作</p>
<p>在网络命名空间中虚拟网卡是成对出现的，一个存在命名空间内，一个存在于全局命名空间内，两者将网络命名空间与外部命名空间连接了起来。</p>
<p>ip link add veth0 type veth peer name veth1 &#x2F;&#x2F;创建一对虚拟网卡</p>
<p>ip link set veth1 netns ns1 &#x2F;&#x2F;将veth1移动到ns1命名空间中去</p>
<p>ip netns exec ns1 ip addr add 192.168.1.1&#x2F;24 dev veth1 &#x2F;&#x2F;为veth1配置ip</p>
<p>ip netns exec ns1 ip link set veth1 up &#x2F;&#x2F;开启veth1</p>
<p>ip netns exec ns1 ip link set lo ip &#x2F;&#x2F;开启环回网卡,此时可以ping 通自己</p>
<p>ip addr add 192.168.1.2&#x2F;24  dev veth0&#x2F;&#x2F;配置veth0的ip</p>
<p>ip link set veth0 up &#x2F;&#x2F;开启veth0</p>
<p>ip netns exec ns1 ip route add default via 192.168.1.1 &#x2F;&#x2F;配置默认路由 &#x2F;&#x2F;此时可以和本地主机通信，但不能和其他主机通信,还需要配置ip转发</p>
<p>cat &#x2F;proc&#x2F;sus&#x2F;net&#x2F;ipv4&#x2F;ip_forward &#x2F;&#x2F;查看是否开启了ip转发，值为1表示开启，值为0表示关闭</p>
<p>echo 1 &gt; &#x2F;proc&#x2F;sys&#x2F;net&#x2F;ipv4&#x2F;ip_forward &#x2F;&#x2F;配置转发使能</p>
<p>iptables -F FORWARD</p>
<p>iptables -t nat -F &#x2F;&#x2F;刷新forward规则</p>
<p>iptables -t nat -L -n &#x2F;&#x2F;刷新nat规则</p>
<p>iptables -t nat -A POSTROUTING -s 192.168.1.0&#x2F;255.255.255.0 -o ens33 -j MASQUERADE &#x2F;&#x2F;使能ip伪装</p>
<p>iptables -A FORWARD -i ens33 -o veth0 -j ACCEPT</p>
<p>iptables -A FORWARD -i veth0 -o ens33 -j ACCEPT</p>
<p><img src="/archives/d0edc1ed/Untitled.png"></p>
<p>&#x2F;etc&#x2F;sysconfig&#x2F;network &#x2F;&#x2F;配置本机的主机名 ，HOSTNAME&#x3D;armandhe</p>
<p>&#x2F;etc&#x2F;hostname &#x2F;&#x2F;配置主机名，armandhe</p>
<h1 id="软件包管理"><a href="#软件包管理" class="headerlink" title="软件包管理"></a>软件包管理</h1><p><strong>yum配置文件</strong></p>
<p>[id]</p>
<p>name&#x3D;自定义名称</p>
<p>baseurl&#x3D;仓库路径</p>
<pre><code>         file:///mnt/cdrom //本地仓库
</code></pre>
<p>enabled&#x3D;是否可用，0，1</p>
<p>gpgcheck&#x3D;是否开启校验 0，1</p>
<p>一个yum仓库中必须要有一个repodata 文件，其中定义了所有rpm包的信息</p>
<p>yum list &#x2F;&#x2F;列出仓库中所有的包</p>
<p>yum info 包名 &#x2F;&#x2F;显示包信息</p>
<p>yum groupinstall 包组</p>
<p>yum repolist 列出仓库列表</p>
<p>yum install 包名</p>
<p>yum update package_name</p>
<p>yum remove package_name</p>
<p>yum deplist package_name &#x2F;&#x2F;查看包的依赖关系</p>
<p>yum reinstall package_name &#x2F;&#x2F;重新安装一个包</p>
<p>yum groupremove 包组名 &#x2F;&#x2F;删除包组</p>
<p>yum search string &#x2F;&#x2F;根据指定字符串搜索包</p>
<p>yum -y groupinstall “Development Tools” &#x2F;&#x2F;安装常用开发工具</p>
<p><strong>源码安装</strong></p>
<p>在源码目录执行 .&#x2F;configure —prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;software_name <a target="_blank" rel="noopener" href="//prefix">&#x2F;&#x2F;prefix</a> 指定安装路径。执行该命令会生成makefile文件，该文件中包含编译顺序等信息。configure会检查当前环境，是否有cc gcc等。cc是unix的已收费，gcc更加强大，linux中的cc是gcc的符号连接。</p>
<p>make &#x2F;&#x2F;编译源码</p>
<p>make install &#x2F;&#x2F;安装软件</p>
<p>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;httpd.service <a target="_blank" rel="noopener" href="//systemcel">&#x2F;&#x2F;systemctl</a> 执行配置文件</p>
<h1 id="防火墙"><a href="#防火墙" class="headerlink" title="防火墙"></a>防火墙</h1><h2 id="防火墙分类"><a href="#防火墙分类" class="headerlink" title="防火墙分类"></a>防火墙分类</h2><p>主机防火墙</p>
<p>网络防火墙</p>
<p>软甲防火墙</p>
<p>硬件防火墙</p>
<p>4层防火墙 &#x2F;&#x2F;基于端口，ip等</p>
<p>7层防火墙 &#x2F;&#x2F;应用层防火墙，基于7层协议，waf</p>
<p>linux的防火墙，是通过底层的netfilter来过滤数据的，iptables与firewalld是用来配置i过滤规则的。</p>
<h1 id="iptables"><a href="#iptables" class="headerlink" title="iptables"></a>iptables</h1><h2 id="四表五链"><a href="#四表五链" class="headerlink" title="四表五链"></a>四表五链</h2><p><strong>四表</strong></p>
<p>raw &#x2F;&#x2F;数据追踪</p>
<p>mangle &#x2F;&#x2F;拆解报文，重新封装</p>
<p>nat  </p>
<p>filter</p>
<p><strong>五链</strong></p>
<p>input &#x2F;&#x2F;入站规则</p>
<p>forward &#x2F;&#x2F;转发链</p>
<p>output &#x2F;&#x2F;出站规则</p>
<p>prerouting &#x2F;&#x2F;路由之前对数据进行改变，对目标地址做转换</p>
<p>postrouting &#x2F;&#x2F;路由之后对数据进行改变，对源ip地址做转换</p>
<p><strong>数据过链顺序</strong></p>
<p>流入：prerouting —&gt; input </p>
<p>流出：ouput —&gt; postrouting</p>
<p>转发：prerouting —&gt; forward —&gt; postrouting</p>
<p><strong>FILTER表</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">iptables -t filter -nvL</span><br><span class="line">iptables -t filter | FILTER  2 -s 0.0.0.0/0 -d 0.0.0.0/0 -j DROP -p tcp</span><br><span class="line">iptables -D FORWARD 2 <span class="comment">#删除forward链第二条</span></span><br><span class="line">iptables -F FORWARD <span class="comment">#删除forward链中所有规</span></span><br><span class="line">iptables -P FORWARD DROP|ACCEPT <span class="comment">#设置默认策略</span></span><br><span class="line">iptables -save &gt; /tmp/a.txt <span class="comment">#导出规则</span></span><br><span class="line">iptables -restore &lt; /tmp/a.txt <span class="comment">#导入规则</span></span><br><span class="line">service iptables save <span class="comment">#保存当前规则为默认规则</span></span><br><span class="line"></span><br><span class="line">target: accept|drop|reject|<span class="built_in">log</span> <span class="comment">#大写 放行|丢弃|拒绝|记录日志</span></span><br><span class="line">	-I : insert <span class="comment">#插入到表的最上方</span></span><br><span class="line">	-A : append <span class="comment">#插入到表的最下方</span></span><br><span class="line">	<span class="comment">#可加入数字表示添加到第几条</span></span><br><span class="line">	-n : <span class="comment">#以数字形式显示</span></span><br><span class="line">	-L ： <span class="comment">#列出所有规则</span></span><br><span class="line">	-v ： <span class="comment">#详细信息</span></span><br><span class="line">	--dport</span><br><span class="line">	--sport</span><br><span class="line">	—line-numbers <span class="comment">#显示规则序号</span></span><br><span class="line">	-i : <span class="comment">#指定入口</span></span><br><span class="line">	-o : <span class="comment">#指定出口</span></span><br><span class="line">	-m mutiport --dports 22,80,443 <span class="comment">#多端口匹配</span></span><br><span class="line">	--dports <span class="comment">#指定多个目标端口</span></span><br><span class="line">iptables -t filter -A input -s ens33 --dport 22 -I -j reject -p tcp</span><br><span class="line">iptables -P input ACCEPT</span><br><span class="line">	--sports <span class="comment">#指定多个源端口</span></span><br><span class="line">	-j <span class="comment">#允许还是拒绝</span></span><br><span class="line">	-N <span class="comment">#新建一个链</span></span><br><span class="line">	-s <span class="comment">#源地址</span></span><br><span class="line">	-d <span class="comment">#目标地址</span></span><br><span class="line">	-vv <span class="comment">#显示更详细的信息</span></span><br><span class="line">	-F <span class="comment"># 清空所有规则</span></span><br><span class="line">	-m <span class="comment">#后接模块名 ,使用扩展iptables</span></span><br><span class="line">	-m iprange --src-range 172.16.11.13-171.16.11.100</span><br><span class="line">	-m iprange --dist-range <span class="comment">#匹配ip地址范围</span></span><br><span class="line">	-m string --algo mb --string <span class="string">&quot;gxa&quot;</span> <span class="comment">#匹配字符串</span></span><br><span class="line">	-m connlimit-upto</span><br><span class="line">	-m connlimit-above </span><br><span class="line">	-m state --<span class="built_in">stat</span> NEW|ESTABLISHED <span class="comment">#状态检测</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>NAT表</strong></p>
<p>四链</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">postrouting</span><br><span class="line">prerouting</span><br><span class="line">output</span><br><span class="line">input</span><br></pre></td></tr></table></figure>

<p>iptables -t nat -A POSTROUTING -p tcp -o eth0 -s 192.168.10.23&#x2F;24 -j SNAT —to-source 12.34.54.45&#x2F;24</p>
<p>-j SNAT|DNAT &#x2F;&#x2F;端口复用与端口映射</p>
<h1 id="firewall-cmd"><a href="#firewall-cmd" class="headerlink" title="firewall-cmd"></a>firewall-cmd</h1><p>firewall-cmd —version</p>
<p>firewall-cmd —state</p>
<p>firewall-cmd —zone&#x3D;public —list-ports &#x2F;&#x2F;查看已打开的端口</p>
<p>firewall-cmd —zone&#x3D;public —add-port&#x3D;80&#x2F;tcp —permanent &#x2F;&#x2F;开放tcp80端口并永久生效</p>
<p>firewall-cmd —reload &#x2F;&#x2F;开放了端口后，重新加载配置</p>
<p>firewall-cmd —zone&#x3D;puublic —remove—port&#x3D;80&#x2F;tcp —permanent &#x2F;&#x2F;关闭80端口</p>
<p>firewall-cmd —get-zones &#x2F;&#x2F;获取所有的可用区域</p>
<p>也可以直接修改配置文件</p>
<p>&#x2F;etc&#x2F;firewall&#x2F;zones&#x2F;public.xml</p>
<h1 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h1><p>通配符：匹配文件名</p>
<p>正则表达式：匹配文件内容</p>
<p><strong>grep</strong></p>
<p>标准正则</p>
<p>逐行匹配，匹配的显示整行</p>
<p>-i 忽略大小写</p>
<p>-o 仅显示匹配字符</p>
<p>-v 反向显示</p>
<p>-A  3    after &#x2F;&#x2F;显示匹配项及之后几行</p>
<p>-B 4     before &#x2F;&#x2F;显示匹配项前面的几行</p>
<p>-C 4    context &#x2F;&#x2F;显示前后几行</p>
<p>? &#x2F;&#x2F;0次或者1次</p>
<p>+</p>
<p>{}</p>
<p>&gt; &#x2F;&#x2F;词尾</p>
<p>&lt; &#x2F;&#x2F;词首</p>
<p>扩展正则</p>
<p>grep -E</p>
<p>不需要转义，可加 | 等</p>
<p>sort -t: -k3 -r -n a.txt<br>-t 指定分隔符</p>
<p>-k 指定字段</p>
<p>-r 指定为逆序</p>
<p>-n 指定按数字排序</p>
<h1 id="进程管理"><a href="#进程管理" class="headerlink" title="进程管理"></a>进程管理</h1><p>进程类型</p>
<p>守护进程：开机后启动并一直运行再后台得进程</p>
<p>瞬时进程：命令执行完就结束进程</p>
<p>用户进程</p>
<p>进程优先级</p>
<p>1-99 实时优先级</p>
<p>100-139 静态优先级 &#x2F;&#x2F;值越大优先级越高</p>
<p>进程的状态</p>
<p>running 运行态 R</p>
<p>ready 就绪</p>
<p>sleep 睡眠态：S可中断进程，d不可中断进程</p>
<p>stopped 停止态</p>
<p>zombie 僵死态 父进程挂掉了，子进程的状态</p>
<p>session leader</p>
<ul>
<li>前台进程</li>
</ul>
<p>l 多线程进程</p>
<p>ps -aux</p>
<p>ps -ef</p>
<p>pstree</p>
<p>-a</p>
<p>-u</p>
<p>-x</p>
<p>pgrep -u 0 &#x2F;&#x2F;根据用户显示进程</p>
<p>pidof httpd &#x2F;&#x2F;与命令相关的所有进程号</p>
<p>pkill pid &#x2F;&#x2F;杀进程</p>
<p>uptime</p>
<p>vmstat</p>
<p>procs</p>
<p>kill -singal</p>
<p>singalup 1 &#x2F;&#x2F;重读配置文件</p>
<p>singalnt 2 &#x2F;&#x2F;变比进程</p>
<p>sig’kill 9 &#x2F;&#x2F;强杀</p>
<p>sigterm 15 &#x2F;&#x2F;正常结束</p>
<p>sigcont 18 &#x2F;&#x2F;继续执行</p>
<p>sigstop 19 &#x2F;&#x2F;暂停执行</p>
<p>killall process_name &#x2F;&#x2F;杀死进程</p>
<p>nohup &#x2F;&#x2F;脱离当前中断</p>
<p>&amp; &#x2F;&#x2F;调用到后台执行</p>
<p>定时任务</p>
<p>一次执行</p>
<p>at option</p>
<p>at -l &#x2F;&#x2F;查看任务</p>
<p>at -f &#x2F;path&#x2F;to&#x2F;file</p>
<p>atrm 1 &#x2F;&#x2F;删除定时任务</p>
<p>at 4am tomorrow</p>
<p>周期执行</p>
<p>crontab</p>
<p>&#x2F;etc&#x2F;crontab</p>
<p>crontab -e &#x2F;&#x2F;编辑设置定时任务</p>
<p>crontab -l &#x2F;&#x2F;列出任务</p>
<p>crontab -r  &#x2F;&#x2F;移除所有任务</p>
<p>crontab -u &#x2F;&#x2F;指定用户</p>
<p><code>/var/spool/cron/username</code> &#x2F;&#x2F;定时任务都在这儿</p>
<p>***** 分钟-小时-日-月-星期</p>
<p><img src="/Untitled%201.png"></p>
<p><img src="/Untitled%202.png"></p>
<p><img src="/Untitled%203.png"></p>

    </div>

    
    
    <div class="post-widgets">
      <div id="needsharebutton-postbottom">
        <span class="btn">
          <i class="fa fa-share-alt" aria-hidden="true"></i>
        </span>
      </div>
    </div>
        <div class="reward-container">
  <div>Buy me a coffee.</div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    打赏
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechatpay.png" alt="Arliya 微信支付">
        <p>微信支付</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/alipay.jpg" alt="Arliya 支付宝">
        <p>支付宝</p>
      </div>

  </div>
</div>

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>Arliya
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://dayutech.github.io/archives/d0edc1ed.html" title="Linux常用命令">https://dayutech.github.io/archives/d0edc1ed.html</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener external nofollow noreferrer" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

        

  <div class="followme">
    <p>欢迎关注我的其它发布渠道</p>

    <div class="social-list">

        <div class="social-item">
          <a target="_blank" class="social-link" href="/atom.xml">
            <span class="icon">
              <i class="fa fa-rss"></i>
            </span>

            <span class="label">RSS</span>
          </a>
        </div>
    </div>
  </div>


      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/Linux/" rel="tag"><i class="fa fa-tag"></i> Linux</a>
          </div>
		  
          <script data-pjax>
	var tagsall=document.getElementsByClassName("post-tags")
	for (var i = tagsall.length - 1; i >= 0; i--){
		var tags=tagsall[i].getElementsByTagName("a");
		for (var j = tags.length - 1; j >= 0; j--) {
			var golden_ratio = 0.618033988749895;
			var s = 0.5;
			var v = 0.999;
			var h = golden_ratio + Math.random()*0.8 - 0.5;
			var h_i = parseInt(h * 6);
			var f = h * 6 - h_i;
			var p = v * (1 - s);
			var q = v * (1 - f * s);
			var t = v * (1 - (1 - f) * s);
			var r, g, b;
			switch (h_i) {
				case 0:
					r = v;
					g = t;
					b = p;
					break;
				case 1:
					r = q;
					g = v;
					b = p;
					break;
				case 2:
					r = p;
					g = v;
					b = t;
					break;
				case 3 :
					r = p;
					g = q;
					b = v;
					break;
				case 4:
					r = t;
					g = p;
					b = v;
					break;
				case 5:
					r = v;
					g = p;
					b = q;
					break;
				default:
					r = 1;
					g = 1;
					b = 1;
			  }
			tags[j].style.background = "rgba("+parseInt(r*255)+","+parseInt(g*255)+","+parseInt(b*255)+","+0.5+")";
		}
	}          
                         
            </script>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/archives/c6852300.html" rel="prev" title="变量覆盖">
      <i class="fa fa-chevron-left"></i> 变量覆盖
    </a></div>
      <div class="post-nav-item">
    <a href="/archives/7cd2fa35.html" rel="next" title="Linux安全配置基线">
      Linux安全配置基线 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  <!-- needsharebutton Javascript file -->
<script src="js/needsharebutton.min.js"></script>
<!-- needsharebutton CSS file -->
<link href="css/needsharebutton.min.css" rel="stylesheet" />
  
  
  



          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="nav-number">1.</span> <span class="nav-text">linux常用命令</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#linux%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84"><span class="nav-number">2.</span> <span class="nav-text">linux系统的文件结构</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Linux%E7%B3%BB%E7%BB%9F%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%9A%84%E5%90%AB%E4%B9%89"><span class="nav-number">3.</span> <span class="nav-text">Linux系统命令行的含义</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%A1%A8%E7%A4%BA%E5%BD%93%E5%89%8D%E7%94%A8%E6%88%B7%E6%98%AF%E8%B6%85%E7%BA%A7%E7%94%A8%E6%88%B7%EF%BC%8C%E6%99%AE%E9%80%9A%E7%94%A8%E6%88%B7%E4%B8%BA%EF%BC%8C%E4%BE%8B%E5%A6%82%EF%BC%9A%EF%BC%88%E2%80%9Dyao-app00-root-%E2%80%9D-%EF%BC%8C%E8%A1%A8%E7%A4%BA%E4%BD%BF%E7%94%A8%E7%94%A8%E6%88%B7%E2%80%9Dyao%E2%80%9D%E8%AE%BF%E9%97%AE-root%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="nav-number">4.</span> <span class="nav-text">&#x2F;&#x2F;表示当前用户是超级用户，普通用户为，例如：（”yao@app00:&#x2F;root$” ，表示使用用户”yao”访问&#x2F;root文件夹</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%91%BD%E4%BB%A4%E7%9A%84%E7%BB%84%E6%88%90"><span class="nav-number">5.</span> <span class="nav-text">命令的组成</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C"><span class="nav-number">6.</span> <span class="nav-text">基础操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%87%8D%E5%90%AF%E7%B3%BB%E7%BB%9F"><span class="nav-number">6.1.</span> <span class="nav-text">重启系统</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B3%E9%97%AD%E7%B3%BB%E7%BB%9F"><span class="nav-number">6.2.</span> <span class="nav-text">关闭系统</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%AE%E5%8A%A9%E5%91%BD%E4%BB%A4"><span class="nav-number">6.3.</span> <span class="nav-text">帮助命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%91%BD%E4%BB%A4%E8%AF%B4%E6%98%8E%E4%B9%A6"><span class="nav-number">6.4.</span> <span class="nav-text">命令说明书</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%87%E6%8D%A2%E7%94%A8%E6%88%B7"><span class="nav-number">6.5.</span> <span class="nav-text">切换用户</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%9B%AE%E5%BD%95%E6%93%8D%E4%BD%9C"><span class="nav-number">7.</span> <span class="nav-text">目录操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%87%E6%8D%A2%E7%9B%AE%E5%BD%95"><span class="nav-number">7.1.</span> <span class="nav-text">切换目录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E7%9B%AE%E5%BD%95"><span class="nav-number">7.2.</span> <span class="nav-text">查看目录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E7%9B%AE%E5%BD%95"><span class="nav-number">7.3.</span> <span class="nav-text">创建目录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E7%9B%AE%E5%BD%95%E4%B8%8E%E6%96%87%E4%BB%B6"><span class="nav-number">7.4.</span> <span class="nav-text">删除目录与文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E7%9B%AE%E5%BD%95"><span class="nav-number">7.5.</span> <span class="nav-text">修改目录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8B%B7%E8%B4%9D%E7%9B%AE%E5%BD%95"><span class="nav-number">7.6.</span> <span class="nav-text">拷贝目录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%90%9C%E7%B4%A2%E7%9B%AE%E5%BD%95"><span class="nav-number">7.7.</span> <span class="nav-text">搜索目录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E7%9B%AE%E5%BD%95"><span class="nav-number">7.8.</span> <span class="nav-text">查看当前目录</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="nav-number">8.</span> <span class="nav-text">文件操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%B0%E5%A2%9E%E6%96%87%E4%BB%B6"><span class="nav-number">8.1.</span> <span class="nav-text">新增文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6"><span class="nav-number">8.2.</span> <span class="nav-text">删除文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%96%E8%BE%91%E6%96%87%E4%BB%B6"><span class="nav-number">8.3.</span> <span class="nav-text">编辑文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6"><span class="nav-number">8.4.</span> <span class="nav-text">查看文件</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%88%AB%E5%90%8D"><span class="nav-number">9.</span> <span class="nav-text">别名</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90"><span class="nav-number">10.</span> <span class="nav-text">文件权限</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9D%83%E9%99%90%E8%AF%B4%E6%98%8E"><span class="nav-number">10.1.</span> <span class="nav-text">权限说明</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90-1"><span class="nav-number">10.2.</span> <span class="nav-text">文件权限</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ACL"><span class="nav-number">10.3.</span> <span class="nav-text">ACL</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E4%BD%BF%E7%94%A8%E5%91%BD%E4%BB%A4%E6%9D%83%E9%99%90%E6%89%A7%E8%A1%8C%E7%B3%BB%E7%BB%9F%E6%93%8D%E4%BD%9C"><span class="nav-number">10.4.</span> <span class="nav-text">修改用户使用命令权限执行系统操作</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%89%93%E5%8C%85%E4%B8%8E%E8%A7%A3%E5%8E%8B"><span class="nav-number">11.</span> <span class="nav-text">打包与解压</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AF%B4%E6%98%8E"><span class="nav-number">11.1.</span> <span class="nav-text">说明</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%89%93%E5%8C%85%E6%96%87%E4%BB%B6"><span class="nav-number">11.2.</span> <span class="nav-text">打包文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E5%8E%8B%E6%96%87%E4%BB%B6"><span class="nav-number">11.3.</span> <span class="nav-text">解压文件</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%85%B6%E4%BB%96%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="nav-number">12.</span> <span class="nav-text">其他常用命令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#find"><span class="nav-number">12.1.</span> <span class="nav-text">find</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#whereis"><span class="nav-number">12.2.</span> <span class="nav-text">whereis</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#which"><span class="nav-number">12.3.</span> <span class="nav-text">which</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sudo"><span class="nav-number">12.4.</span> <span class="nav-text">sudo</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#grep"><span class="nav-number">12.5.</span> <span class="nav-text">grep</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#service"><span class="nav-number">12.6.</span> <span class="nav-text">service</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#free"><span class="nav-number">12.7.</span> <span class="nav-text">free</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#top"><span class="nav-number">12.8.</span> <span class="nav-text">top</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#df"><span class="nav-number">12.9.</span> <span class="nav-text">df</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mount"><span class="nav-number">12.10.</span> <span class="nav-text">mount</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#uname"><span class="nav-number">12.11.</span> <span class="nav-text">uname</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#yum"><span class="nav-number">12.12.</span> <span class="nav-text">yum</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#rpm"><span class="nav-number">12.13.</span> <span class="nav-text">rpm</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#date"><span class="nav-number">12.14.</span> <span class="nav-text">date</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#wget"><span class="nav-number">12.15.</span> <span class="nav-text">wget</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ftp"><span class="nav-number">12.16.</span> <span class="nav-text">ftp</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#scp"><span class="nav-number">12.17.</span> <span class="nav-text">scp</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86"><span class="nav-number">13.</span> <span class="nav-text">系统管理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%98%B2%E7%81%AB%E5%A2%99%E6%93%8D%E4%BD%9C"><span class="nav-number">13.1.</span> <span class="nav-text">防火墙操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E4%B8%BB%E6%9C%BA%E5%90%8D"><span class="nav-number">13.2.</span> <span class="nav-text">修改主机名</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8Bip"><span class="nav-number">13.3.</span> <span class="nav-text">查看ip</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9IP"><span class="nav-number">13.4.</span> <span class="nav-text">修改IP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%98%A0%E5%B0%84"><span class="nav-number">13.5.</span> <span class="nav-text">配置映射</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E8%BF%9B%E7%A8%8B"><span class="nav-number">13.6.</span> <span class="nav-text">查看进程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%93%E6%9D%9F%E8%BF%9B%E7%A8%8B"><span class="nav-number">13.7.</span> <span class="nav-text">结束进程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E8%BF%9E%E6%8E%A5"><span class="nav-number">13.8.</span> <span class="nav-text">查看连接</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BF%AB%E9%80%9F%E6%B8%85%E5%B1%8F"><span class="nav-number">13.9.</span> <span class="nav-text">快速清屏</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%9C%E7%A8%8B%E4%B8%BB%E6%9C%BA"><span class="nav-number">13.10.</span> <span class="nav-text">远程主机</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%9C%E8%89%B2%E4%B8%8E%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="nav-number">14.</span> <span class="nav-text">颜色与类型的关系</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#shell-%E8%84%9A%E6%9C%AC%E4%B8%AD%E4%BD%BF%E7%94%A8python%E8%84%9A%E6%9C%AC"><span class="nav-number">14.1.</span> <span class="nav-text">shell 脚本中使用python脚本</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9B%B4%E6%94%B9centos%E9%95%9C%E5%83%8F%E6%BA%90"><span class="nav-number">14.2.</span> <span class="nav-text">更改centos镜像源</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95"><span class="nav-number">14.3.</span> <span class="nav-text">安装中文输入法</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86"><span class="nav-number">15.</span> <span class="nav-text">磁盘管理</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86-1"><span class="nav-number">16.</span> <span class="nav-text">磁盘管理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#raid-%E7%8B%AC%E7%AB%8B%E7%A3%81%E7%9B%98%E5%86%97%E4%BD%99%E6%95%B4%E5%88%97"><span class="nav-number">16.1.</span> <span class="nav-text">raid-独立磁盘冗余整列</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%A1%AC%E7%9B%98%E5%88%86%E5%8C%BA%E6%AD%A5%E9%AA%A4"><span class="nav-number">16.2.</span> <span class="nav-text">硬盘分区步骤</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%A4%E6%8D%A2%E5%88%86%E5%8C%BA"><span class="nav-number">16.3.</span> <span class="nav-text">交换分区</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%A3%81%E7%9B%98%E6%8C%82%E8%BD%BD%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">16.4.</span> <span class="nav-text">磁盘挂载配置文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LVM-logic-volume-manager-%E9%80%BB%E8%BE%91%E5%8D%B7%E7%AE%A1%E7%90%86%E5%99%A8"><span class="nav-number">16.5.</span> <span class="nav-text">LVM-logic volume manager 逻辑卷管理器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E9%80%BB%E8%BE%91%E5%8D%B7%E8%BF%87%E7%A8%8B"><span class="nav-number">16.5.1.</span> <span class="nav-text">创建逻辑卷过程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%87%E4%BB%BD%E6%95%B0%E6%8D%AE"><span class="nav-number">16.5.2.</span> <span class="nav-text">备份数据</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#inode-%E7%B4%A2%E5%BC%95%E8%8A%82%E7%82%B9"><span class="nav-number">16.6.</span> <span class="nav-text">inode-索引节点</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86"><span class="nav-number">17.</span> <span class="nav-text">网络管理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="nav-number">17.1.</span> <span class="nav-text">网络命名空间</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%AE%A1%E7%90%86"><span class="nav-number">18.</span> <span class="nav-text">软件包管理</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%98%B2%E7%81%AB%E5%A2%99"><span class="nav-number">19.</span> <span class="nav-text">防火墙</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%98%B2%E7%81%AB%E5%A2%99%E5%88%86%E7%B1%BB"><span class="nav-number">19.1.</span> <span class="nav-text">防火墙分类</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#iptables"><span class="nav-number">20.</span> <span class="nav-text">iptables</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%9B%E8%A1%A8%E4%BA%94%E9%93%BE"><span class="nav-number">20.1.</span> <span class="nav-text">四表五链</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#firewall-cmd"><span class="nav-number">21.</span> <span class="nav-text">firewall-cmd</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">22.</span> <span class="nav-text">正则表达式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86"><span class="nav-number">23.</span> <span class="nav-text">进程管理</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Arliya"
      src="/images/dayu/avatar.png">
  <p class="site-author-name" itemprop="name">Arliya</p>
  <div class="site-description" itemprop="description">主要从事Web漏洞挖掘工作，涉猎编程语言包括Java、Scala、C/C++、PHP、Python、C#、Golang，涉及领域包括Web以及二进制漏洞挖掘，二进制比较菜，平时喜欢在金融市场消费</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">108</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">30</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">209</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/dayutech" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;dayutech" rel="noopener external nofollow noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:test@qq.com" title="E-Mail → mailto:test@qq.com" rel="noopener external nofollow noreferrer" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/yourname" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;yourname" rel="noopener external nofollow noreferrer" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://youtube.com/yourname" title="YouTube → https:&#x2F;&#x2F;youtube.com&#x2F;yourname" rel="noopener external nofollow noreferrer" target="_blank"><i class="fab fa-youtube fa-fw"></i>YouTube</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener external nofollow noreferrer" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>
	  
		<div class="links-of-blogroll scroll" style="margin-top:20px; border-style:dotted none none none; padding-top:5px; text-align:left;padding-left: 20px; padding-right: 10px; padding-bottom: 5px;">
		  <div class="links-of-blogroll-title" style="padding-bottom: 5px; padding-top: 5px; padding-left: 0px; padding-right: 20px; font-size: 1.6em; argin-right: 5px;">
		<!-- 选择合适的icon --><i class="fab fa-markdown" aria-hidden="true"></i>
			<b style="font-size: 0.65em; padding-left: 8px; position: relative; top: -2px;">文章列表</b>
		  </div>
		  <ul class="links-of-blogroll-list">
		<!-- 文章排序规格,-updated 按照文章更新时间倒排 -->
			
		<!-- 显示10数目的文章 -->
			
			  <li class="postsSidebarNumb" style="text-indent: -1em;">
				<a href="/archives/aba9e754.html" title="机器学习-逻辑回归（Logistic-Regression）" target="_blank">机器学习-逻辑回归（Logistic-Regression）</a>
			  </li>
			
			  <li class="postsSidebarNumb" style="text-indent: -1em;">
				<a href="/archives/19883263.html" title="机器学习-线性回归" target="_blank">机器学习-线性回归</a>
			  </li>
			
			  <li class="postsSidebarNumb" style="text-indent: -1em;">
				<a href="/archives/fae3020d.html" title="网络规划设计师备考记录" target="_blank">网络规划设计师备考记录</a>
			  </li>
			
			  <li class="postsSidebarNumb" style="text-indent: -1em;">
				<a href="/archives/ec714069.html" title="一种隐藏在JWT解析中的绕过漏洞" target="_blank">一种隐藏在JWT解析中的绕过漏洞</a>
			  </li>
			
			  <li class="postsSidebarNumb" style="text-indent: -1em;">
				<a href="/archives/88c5bdc8.html" title="xerces XML解析特性使用不当导致XXE漏洞" target="_blank">xerces XML解析特性使用不当导致XXE漏洞</a>
			  </li>
			
			  <li class="postsSidebarNumb" style="text-indent: -1em;">
				<a href="/archives/324e0c68.html" title="C Sharp程序漏洞挖掘过程中一些框架、技巧、逻辑、流程、特性、Sink点、设计模式等知识点记录" target="_blank">C Sharp程序漏洞挖掘过程中一些框架、技巧、逻辑、流程、特性、Sink点、设计模式等知识点记录</a>
			  </li>
			
			  <li class="postsSidebarNumb" style="text-indent: -1em;">
				<a href="/archives/6e27d7b9.html" title=".Net Remoting 导致的反序列化漏洞" target="_blank">.Net Remoting 导致的反序列化漏洞</a>
			  </li>
			
			  <li class="postsSidebarNumb" style="text-indent: -1em;">
				<a href="/archives/42eb2c82.html" title="动态代理在java反序列化中的应用" target="_blank">动态代理在java反序列化中的应用</a>
			  </li>
			
			  <li class="postsSidebarNumb" style="text-indent: -1em;">
				<a href="/archives/6f1feaf8.html" title="BinaryFormatter反序列化漏洞之ActivitySurrogateSelector利用链" target="_blank">BinaryFormatter反序列化漏洞之ActivitySurrogateSelector利用链</a>
			  </li>
			
			  <li class="postsSidebarNumb" style="text-indent: -1em;">
				<a href="/archives/323962a4.html" title="从三味书屋到百草堂、从XmlSerializer到BinnaryFormatter之BinaryFormatter反序列化漏洞TextFormattingRunProperties利用链" target="_blank">从三味书屋到百草堂、从XmlSerializer到BinnaryFormatter之BinaryFormatter反序列化漏洞TextFormattingRunProperties利用链</a>
			  </li>
			
			  <li class="postsSidebarNumb" style="text-indent: -1em;">
				<a href="/archives/ff457959.html" title="从三味书屋到百草堂，从XmlSerializer到BinnaryFormatter之XmlSerializer反序列化漏洞ObjectDataProvider利用链" target="_blank">从三味书屋到百草堂，从XmlSerializer到BinnaryFormatter之XmlSerializer反序列化漏洞ObjectDataProvider利用链</a>
			  </li>
			
			  <li class="postsSidebarNumb" style="text-indent: -1em;">
				<a href="/archives/3792a892.html" title="Java动态代理在反序列化漏洞中的应用" target="_blank">Java动态代理在反序列化漏洞中的应用</a>
			  </li>
			
			  <li class="postsSidebarNumb" style="text-indent: -1em;">
				<a href="/archives/31bfcb8f.html" title="Java HashMap 实现方法" target="_blank">Java HashMap 实现方法</a>
			  </li>
			
			  <li class="postsSidebarNumb" style="text-indent: -1em;">
				<a href="/archives/b83d1f32.html" title="从头开始挖掘Java RMI漏洞" target="_blank">从头开始挖掘Java RMI漏洞</a>
			  </li>
			
			  <li class="postsSidebarNumb" style="text-indent: -1em;">
				<a href="/archives/66a16759.html" title="Apache Struts2 原理学习" target="_blank">Apache Struts2 原理学习</a>
			  </li>
			
		  </ul>
		</div>
	  
	 
    </div>
	
  </aside>
  <div id="sidebar-dimmer"></div>
 


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Arliya</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">215k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">13:01</span>
</div>
  <div class="powered-by">由 <a href="https://github.com/dayutech" class="theme-link" rel="noopener external nofollow noreferrer" target="_blank">DayuTech</a> 强力驱动
  </div>

        
<div class="busuanzi-count">
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/pjax/pjax.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  




  
<script src="/js/local-search.js"></script>













    <div id="pjax">
  

  

  
<div id="needsharebutton-float">
      <span class="btn">
        <i class="fa fa-share-alt" aria-hidden="true"></i>
      </span>
    </div>
  <script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.js"></script>
  <script>
      pbOptions = {};
        pbOptions.iconStyle = "box";
        pbOptions.boxForm = "horizontal";
        pbOptions.position = "bottomCenter";
        pbOptions.networks = "Wechat,QQZone,Weibo,Douban,Twitter,Facebook";
      new needShareButton('#needsharebutton-postbottom', pbOptions);
      flOptions = {};
        flOptions.iconStyle = "box";
        flOptions.boxForm = "horizontal";
        flOptions.position = "middleRight";
        flOptions.networks = "Wechat,QQZone,Weibo,Douban,Twitter,Facebook";
      new needShareButton('#needsharebutton-float', flOptions);
  </script>
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : 'Ov23li28mRRYx9D76aAJ',
      clientSecret: '8f7211d1bd039050ed40345ddf60273d6626ad6f',
      repo        : 'dayutech.github.io',
      owner       : 'dayutech',
      admin       : ['dayutech'],
      id          : '732e8ba4d8074b22f1ceee242094f0f2',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>
<style>
#custom_bar {
  float: right;
  font-style: italic;
  background-color: lightgray;
  position: fixed;
  top: 20%;
  right: 50px;
  box-shadow: 15px 10px 10px gray;
}
/* 新年侧边栏 */
#newYear {
  color: white;
  padding: 0 !important;
}

#newYear p,
#newYear h3 {
  font-weight: normal;
  color: inherit;
  margin: 0;
}

#newYear .item-headline {
  display: none;
}

.newYear-slider {
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  width: 100%;
}

.newYear-slider .swiper-slide {
  min-height: 160px;
  min-width: 210px;
  background-size: cover;
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  width: 100%;
}

#newYear-main {
  width: 100%;
  pointer-events: none;
  padding: 1rem;
  position: relative;
  left: 0;
  top: 0;
  z-index: 1;
}

#newYear-main * {
  position: relative;
  line-height: 1.3;
}

#newYear-main .time,
#newYear-main .happyNewYear {
  font-size: 3rem;
  margin: 8px 0;
  display: block;
}

#newYear-main .newYear-time {
  font-weight: bold;
  text-align: center;
}

#newYear-main .day {
  font-size: 4rem;
  letter-spacing: 6px;
  margin-right: -6px;
}

#newYear-main .unit {
  font-size: 1rem;
}

#newYear-main .mask {
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  width: 100%;
  background-color: rgba(0, 0, 0, .2);
}

[data-theme=dark] #newYear-main .mask {
  background-color: rgba(0, 0, 0, .3);
}
</style>
<link data-pjax rel="stylesheet" href="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/Swiper/8.0.6/swiper-bundle.min.css">
<aside id="custom_bar">
    <div id="newYear">
        <div class="newYear-slider">
            <div class="swiper-wrapper">
                <div class="swiper-slide" style="background-image:url(/images/ma1.jpg)"></div>
                <div class="swiper-slide" style="background-image:url(/images/ma2.jpg)"></div>
                <div class="swiper-slide" style="background-image:url(/images/ma3.jpg)"></div>
                <div class="swiper-slide" style="background-image:url(/images/ma4.jpg)"></div>
            </div>
        </div>
        <div id="newYear-main">
            <div class="mask"></div>
            <p class="title"></p>
            <div class="newYear-time"></div>
            <p class="today" style="text-align: right;"></p>
        </div>
    </div>
</aside>
<script data-pjax src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/Swiper/8.0.6/swiper-bundle.min.js"></script>
<script data-pjax>
    function newYear() {
    if (!document.querySelector('#newYear')) return;
    // 新年时间戳 and 星期对象
    let SpringFestival = new Date('2026-02-17 00:00:00')
    let newYear = SpringFestival.getTime() / 1000,
        week = { 0: '周日', 1: '周一', 2: '周二', 3: '周三', 4: '周四', 5: '周五', 6: '周六' }
    function nol(h) { h = Number(h); return h > 9 ? h : '0' + h; }
    time();

    function time() {
        // 现在 时间对象
        let now = new Date();

        // 右下角 今天
        document.querySelector('#newYear .today').innerHTML = now.getFullYear() + '-' + (now.getMonth() + 1) + '-' + now.getDate() + ' ' + week[now.getDay()]

        // 现在与新年相差秒数
        let second = newYear - Math.round(now.getTime() / 1000);

        // 小于0则表示已经过年
        if (second < 0) {
        window.newYearTimer = null
        document.querySelector('#newYear .title').innerHTML = 'Happy New Year!';
        document.querySelector('#newYear .newYear-time').innerHTML = '<span class="happyNewYear">新年快乐</span>';
        } else {
        // 大于0则还未过年
        document.querySelector('#newYear .title').innerHTML = '距离' + SpringFestival.getFullYear() + '年春节：'
        // 大于一天则直接渲染天数
        if (second > 86400) {
            document.querySelector('#newYear .newYear-time').innerHTML = `<span class="day">${Math.ceil(second / 86400)}</span><span class="unit">天</span>`
        } else {
            // 小于一天则使用时分秒计时。
            let h = nol(parseInt(second / 3600));
            second %= 3600;
            let m = nol(parseInt(second / 60));
            second %= 60;
            let s = nol(second);
            document.querySelector('#newYear .newYear-time').innerHTML = `<span class="time">${h}:${m}:${s}</span></span>`;
            // 计时
            if (!window.newYearTimer) window.newYearTimer = setInterval(time, 1000);
        }
        }
    }
    }

    function newYearSwiper() {
    var swiper = new Swiper('.newYear-slider', {
        passiveListeners: true,
        loop: true,
        // autoplay: false,
        autoplay: {
        disableOnInteraction: true,
        delay: 5000
        },
        effect: 'fade',
        mousewheel: true,
        autoHeight: true
    });

    var comtainer = document.querySelector('.newYear-slider');
    if (comtainer !== null) {
        comtainer.onmouseenter = () => { swiper.autoplay.stop() };
        comtainer.onmouseleave = () => { swiper.autoplay.start() };
    }
    }

    // 适配了pjax
    function whenDOMReady() {
    // pjax加载完成（切换页面）后需要执行的函数和代码
    newYear()
    newYearSwiper()
    }

    whenDOMReady() // 打开网站先执行一次
    document.addEventListener("pjax:complete", whenDOMReady) // pjax加载完成（切换页面）后再执行一次
</script>

    </div>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7},"log":false});</script></body>
</html>
